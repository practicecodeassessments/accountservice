2024-03-22 11:30:00,019 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-03-22 11:30:00,096 INFO org.springframework.boot.StartupInfoLogger [main] Starting AccountServiceApplication v0.0.1-SNAPSHOT using Java 17.0.10 with PID 9644 (C:\Users\YE93AR\Java-Practice\Account-Service\target\account-service.jar started by YE93AR in C:\Users\YE93AR\Java-Practice\Account-Service)
2024-03-22 11:30:00,096 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v3.2.0, Spring v6.1.1
2024-03-22 11:30:00,100 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-22 11:30:01,433 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-22 11:30:01,494 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2024-03-22 11:30:02,483 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port 8089 (http)
2024-03-22 11:30:02,495 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2024-03-22 11:30:02,498 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2024-03-22 11:30:02,499 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.16]
2024-03-22 11:30:02,565 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-22 11:30:02,567 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2366 ms
2024-03-22 11:30:02,848 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-22 11:30:03,113 INFO com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:accountservice user=SA
2024-03-22 11:30:03,115 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-22 11:30:03,125 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:accountservice'
2024-03-22 11:30:03,425 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-22 11:30:03,622 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.3.1.Final
2024-03-22 11:30:03,672 INFO org.hibernate.cache.internal.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-03-22 11:30:03,918 INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-22 11:30:03,954 WARN org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl [main] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-03-22 11:30:04,629 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-03-22 11:30:04,673 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-22 11:30:05,187 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2024-03-22 11:30:05,755 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-22 11:30:07,210 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 13 endpoint(s) beneath base path '/actuator'
2024-03-22 11:30:07,312 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b1cc2fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@173e4b75, org.springframework.security.web.context.SecurityContextHolderFilter@751e7d99, org.springframework.security.web.header.HeaderWriterFilter@29ae939c, org.springframework.security.web.authentication.logout.LogoutFilter@71ea9a0d, com.cgi.accountservice.config.JwtAuthenticationFilter@5c168f98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1098c1b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bb05e2a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78f2cab9, org.springframework.security.web.session.SessionManagementFilter@47b4fcd5, org.springframework.security.web.access.ExceptionTranslationFilter@6770a229, org.springframework.security.web.access.intercept.AuthorizationFilter@445265b0]
2024-03-22 11:30:07,325 WARN org.springframework.security.config.annotation.web.builders.WebSecurity [main] You are asking Spring Security to ignore Ant [pattern='/h2-console/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-03-22 11:30:07,325 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will not secure Ant [pattern='/h2-console/**']
2024-03-22 11:30:07,584 WARN org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration [main] Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-03-22 11:30:07,943 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2024-03-22 11:30:07,971 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port 8089 (http) with context path ''
2024-03-22 11:30:07,985 INFO org.springframework.boot.StartupInfoLogger [main] Started AccountServiceApplication in 8.485 seconds (process running for 9.013)
2024-03-22 11:30:20,294 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8089-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-22 11:30:20,295 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8089-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-22 11:30:20,298 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8089-exec-1] Completed initialization in 2 ms
2024-03-22 11:30:20,331 WARN org.springframework.web.servlet.handler.HandlerMappingIntrospector$CacheResultLogHelper [http-nio-8089-exec-1] Cache miss for REQUEST dispatch to '/swagger-ui/index.html' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-03-22 11:30:20,869 INFO org.springdoc.api.AbstractOpenApiResource [http-nio-8089-exec-8] Init duration for springdoc-openapi is: 325 ms
2024-03-22 11:31:13,330 INFO com.cgi.accountservice.controller.CustomerController [http-nio-8089-exec-10] Creating the customer  John
2024-03-22 11:31:13,334 INFO com.cgi.accountservice.service.CustomerService [http-nio-8089-exec-10] newly created customer number is 93092455
2024-03-22 11:31:43,265 INFO com.cgi.accountservice.controller.CustomerController [http-nio-8089-exec-3] create account request for customerId: 93092455
2024-03-22 11:31:43,292 INFO com.cgi.accountservice.rest.RestConnector [http-nio-8089-exec-3] ### URL USED FOR POST IS ### http://localhost:8090/api/v1/transaction
2024-03-22 11:31:43,331 ERROR com.cgi.accountservice.rest.RestConnector [http-nio-8089-exec-3] ResourceAccessExceptionI/O error on POST request for "http://localhost:8090/api/v1/transaction": Connection refused: connect
2024-03-22 11:36:02,818 INFO com.cgi.accountservice.controller.CustomerController [http-nio-8089-exec-4] create account request for customerId: 93092455
2024-03-22 11:36:02,825 INFO com.cgi.accountservice.rest.RestConnector [http-nio-8089-exec-4] ### URL USED FOR POST IS ### http://localhost:8090/api/v1/transaction
2024-03-22 11:36:03,103 INFO com.cgi.accountservice.rest.RestConnector [http-nio-8089-exec-4] ### RESPONSE FROM TRANSACTION SERVICE ### {"id":1,"transactionDate":"2024-03-22T10:36:03.004+00:00","accountNumber":"NL584652896","transactionAmount":1000.0,"transactionStatus":"SUCCESSFUL","transactionType":"CREDIT","transactionId":"1711103763004"}
2024-03-22 11:36:17,056 INFO com.cgi.accountservice.controller.CustomerController [http-nio-8089-exec-7] getting transactions for the account number NL584652896
2024-03-22 11:36:17,067 INFO com.cgi.accountservice.service.CustomerService [http-nio-8089-exec-7] balance in getTransactions is  1000.0 
2024-03-22 11:36:17,069 INFO com.cgi.accountservice.rest.RestConnector [http-nio-8089-exec-7] ### URL USED FOR GET IS ### http://localhost:8090/api/v1/transaction?accountNumber=NL584652896
2024-03-22 11:36:17,187 INFO com.cgi.accountservice.rest.RestConnector [http-nio-8089-exec-7] ### RESPONSE FROM TRANSACTION SERVICE ### [{"id":1,"transactionDate":"2024-03-22T10:36:03.004+00:00","accountNumber":"NL584652896","transactionAmount":1000.0,"transactionStatus":"SUCCESSFUL","transactionType":"CREDIT","transactionId":"1711103763004"}]
2024-03-22 11:36:25,349 INFO com.cgi.accountservice.controller.CustomerController [http-nio-8089-exec-8] getting transactions for the account number NL584652897
2024-03-22 12:07:04,186 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-22 12:07:04,194 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-22 12:07:04,196 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
